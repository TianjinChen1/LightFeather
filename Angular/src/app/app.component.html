<div class="container">
  <div class="header">
    <h2>Notification Form</h2>
  </div>
  <form [formGroup]="notificationForm" (ngSubmit)="onSubmit()" class="my-form">
    <div class="form-group row">
      <div class="col">
        <label for="firstName">First Name</label>
        <input
          type="text"
          formControlName="firstName"
          class="form-control"
          id="firstName"
        />
        <div
          *ngIf="
            notificationForm.controls['firstName'].invalid &&
            (notificationForm.controls['firstName'].dirty ||
              notificationForm.controls['firstName'].touched)
          "
          class="alert alert-danger"
        >
          <div *ngIf="notificationForm.controls['firstName'].errors.required">
            First Name is required.
          </div>
        </div>
      </div>
      <div class="col">
        <label for="lastName">Last Name</label>
        <input
          type="text"
          formControlName="lastName"
          class="form-control"
          id="lastName"
        />
        <div
          *ngIf="
            notificationForm.controls['lastName'].invalid &&
            (notificationForm.controls['lastName'].dirty ||
              notificationForm.controls['lastName'].touched)
          "
          class="alert alert-danger"
        >
          <div *ngIf="notificationForm.controls['lastName'].errors.required">
            Last Name is required.
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label>How would you prefer to be notified?</label>
      <div class="form-group row">
        <div class="col">
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              formGroupName="preferredNotification"
              name="email"
            />
            <label class="form-check-label">Email</label>
          </div>
          <div class="col">
            <div class="form-group">
              <input
                type="email"
                formControlName="email"
                class="form-control"
                id="email"
              />
              <div
                *ngIf="
                  notificationForm.get('email').invalid &&
                  (notificationForm.get('email').dirty ||
                    notificationForm.get('email').touched)
                "
              >
                <div
                  class="alert alert-danger"
                  *ngIf="notificationForm.get('email').errors.email"
                >
                  Invalid email format
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              formGroupName="preferredNotification"
              name="phone"
            />
            <label class="form-check-label">Phone Number</label>
          </div>
          <div class="col">
            <div class="form-group">
              <input
                type="text"
                formControlName="phone_Number"
                class="form-control"
                id="phone_Number"
              />
              <div
                *ngIf="
                  notificationForm.get('phone_Number').invalid &&
                  (notificationForm.get('phone_Number').dirty ||
                    notificationForm.get('phone_Number').touched)
                "
              >
                <div
                  class="alert alert-danger"
                  *ngIf="notificationForm.get('phone_Number').errors.pattern"
                >
                  Invalid phone number format
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="supervisor">Supervisor</label>
      <select formControlName="supervisor" class="form-control" id="supervisor">
        <option value="">Select One</option>
        <option *ngFor="let supervisor of supervisors" [value]="supervisor">
          {{ supervisor }}
        </option>
      </select>
      <div
        *ngIf="
          notificationForm.get('supervisor').invalid &&
          (notificationForm.dirty || notificationForm.touched)
        "
      >
        <div
          class="alert alert-danger"
          *ngIf="notificationForm.get('supervisor').errors.required"
        >
          Supervisor is required.
        </div>
      </div>
    </div>
    <div class="text-center">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </form>
</div>
